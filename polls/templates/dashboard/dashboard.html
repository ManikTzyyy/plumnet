{% extends 'dashboard/base.html' %} {% block content %} {% load static %}

<div class="column dashboard content-page">
  <div class="main-container row">
    <div class="column container1">
      <div class="item card-config column">
        <div class="title row">
          <div class="main-text" style="--clr: var(--clr-second)">
            Quick Link
          </div>
          <i
            class="fa-solid fa-gears"
            style="--clr: var(--clr-fourth); --icon-clr: var(--clr-second)"
          ></i>
        </div>
        <div class="quick-link row">
          <a href="{% url 'add-server' %}" class="row">
            <i
              class="fa-solid fa-plus"
              style="--clr: var(--clr-fourth); --icon-clr: var(--clr-second)"
            ></i>
            <b>Add Server</b>
          </a>
          <a href="{% url 'add-paket' %}" class="row">
            <i
              class="fa-solid fa-plus"
              style="--clr: var(--clr-fourth); --icon-clr: var(--clr-second)"
            ></i>
            <b>Add Paket</b>
          </a>
          <a href="{% url 'add-client' %}" class="row">
            <i
              class="fa-solid fa-plus"
              style="--clr: var(--clr-fourth); --icon-clr: var(--clr-second)"
            ></i>
            <b>Add Client</b>
          </a>
        </div>
      </div>
      <div class="item card-monitoring column">
        <div class="title row">
          <div class="main-text" style="--clr: var(--clr-second)">Server</div>
          <select name="server" id="server">
            <option value="mikrotik1">Mikrotik1</option>
            <option value="mikrotik2">Mikrotik2</option>
          </select>
        </div>
        <div class="row monitor-wrapper">
          <div class="card-donut column">
            <div class="donut-name row">
              <i class="fa-solid fa-microchip"></i>
              <div class="">CPU usage</div>
            </div>
            <div class="donut-content">
              <canvas id="cpuLoad"></canvas>
              <div class="number">80%</div>
            </div>
            <div class="donut-desc">
              <span class="text-main">80%</span> used
            </div>
          </div>
          <div class="card-donut column">
            <div class="donut-name row">
              <i class="fa-solid fa-hard-drive"></i>
              <div class="">Memory usage</div>
            </div>
            <div class="donut-content">
              <canvas id="memoryUsage"></canvas>
              <div class="number">20%</div>
            </div>
            <div class="donut-desc">
              free<span class="text-main"> 500 MB</span>
              <span class="text-grey"> from </span
              ><span class="text-main">530 MB</span>
            </div>
          </div>
          <div class="card-donut column">
            <div class="donut-name row">
              <i class="fa-solid fa-user-check"></i>
              <div class="">PPPoE Active</div>
            </div>
            <div class="donut-content">
              <canvas id="pppClient"></canvas>
              <div class="number">90%</div>
            </div>
            <div class="donut-desc">
              <span class="text-main"> 90 active</span>
              <span class="text-grey"> from </span
              ><span class="text-main">60 List</span>
            </div>
          </div>
          <div class="card-donut column device">
            <div class="donut-name row">
              <i class="fa-solid fa-circle-info"></i>
              <div class="">Device Information</div>
            </div>
            <div class="card-device-wrapper-main column">
              <div class="device-text column">
                <div class="">3.42 Ghz</div>
                <div class="text-grey">1 CPU</div>
              </div>
              <div class="device-content">
                <div class="circle"></div>
                <div class="number">1h58m57s</div>
              </div>
              <div class="device-text-wrapper row">
                <div class="device-text column">
                  <div class="">Intel(R)</div>
                  <div class="text-grey">6.45.6 (stable)</div>
                </div>
                <div class="device-text">x86</div>
              </div>
            </div>
          </div>
        </div>
        <div class="table-container">
          <table class="table">
            <tr class="t-head">
              <th>#</th>
              <th>Ethernet</th>
              <th>RX</th>
              <th>TX</th>
            </tr>
            <tr class="t-d">
              <td>01</td>
              <td>ether1</td>
              <td>5</td>
              <td>3</td>
            </tr>
          </table>
        </div>
      </div>
    </div>
    <div class="column container2">
      <div class="item card-config column">
        <div class="item card-client column">
          <div class="title row">
            <div class="text">
              <div class="main-text" style="--clr: var(--clr-second)">
                Total Client
              </div>
              <div class="text-grey">Last 30 Days</div>
            </div>
            <i
              class="fa-solid fa-user"
              style="--clr: var(--clr-fourth); --icon-clr: var(--clr-second)"
            ></i>
          </div>
          <div class="number" style="--clr: var(--clr-second)">100</div>
        </div>
        <div class="item card-client column">
          <div class="title row">
            <div class="text">
              <div class="main-text" style="--clr: var(--clr-g1)">
                Total Client Active
              </div>
              <div class="text-grey">Last 30 Days</div>
            </div>
            <i
              class="fa-solid fa-user-check"
              style="--clr: var(--clr-g2); --icon-clr: var(--clr-g1)"
            ></i>
          </div>
          <div class="number" style="--clr: var(--clr-g1)">94</div>
        </div>
        <div class="item card-client column">
          <div class="title row">
            <div class="text">
              <div class="main-text" style="--clr: var(--clr-y1)">
                Menunggu Konfirmasi
              </div>
              <div class="text-grey">Last 30 Days</div>
            </div>
            <i
              class="fa-solid fa-user-clock"
              style="--clr: var(--clr-y2); --icon-clr: var(--clr-y1)"
            ></i>
          </div>
          <div class="number" style="--clr: var(--clr-y1)">6</div>
        </div>
      </div>
      <div class="item card-config column">
        <div class="title row">
          <div class="main-text" style="--clr: var(--clr-second)">
            Konfigurasi
          </div>
          <i
            class="fa-solid fa-gears"
            style="--clr: var(--clr-fourth); --icon-clr: var(--clr-second)"
          ></i>
        </div>
        <div class="config-wrapper row">
          <div class="config-item column">
            <i class="fa-solid fa-server"></i>
            <div class="number">{{ total_servers }}</div>
            <div class="text-grey">Server</div>
          </div>
          <div class="config-item column">
            <i class="fa-solid fa-coins"></i>
            <div class="number">{{ total_pakets }}</div>
            <div class="text-grey">Paket</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="dashboard-table column">
    <div class="header-dashboard-table column">
      <div class="row title-head-td">
        <i
          class="fa-solid fa-user"
          style="--clr: var(--clr-fourth); --icon-clr: var(--clr-second)"
        ></i>
        <span class="title">Client List</span>
      </div>
      <form action="" class="form-search row">
        <input
          class="search-box"
          type="search"
          placeholder="Search"
          id="gsearch"
          name="search"
        />
        <input class="search-button" type="submit" />
      </form>
    </div>
    <div class="table-container">
      <table class="table">
        <tr class="t-head">
          <th>#</th>
          <th>Nama</th>
          <th>Paket</th>
          <th class="center-th">Status</th>
          <th>ID PPPoE</th>
          <th>Rx</th>
          <th>Aktif</th>
          <th>IP TR069</th>
          <th>Action</th>
        </tr>
        <tr class="t-d">
          <td>1</td>
          <td>John Doe</td>
          <td>Paket A</td>
          <td><div class="disable-t">Non Aktif</div></td>
          <td>pppoe123</td>
          <td>-18 dbm</td>
          <td>5</td>
          <td>192.168.1.1</td>
          <td><a href="#" class="main-button">View</a></td>
        </tr>
        <tr class="t-d">
          <td>2</td>
          <td>Kumar De Jahe</td>
          <td>Paket B</td>
          <td><div class="enable-t">Aktif</div></td>
          <td>yoi123</td>
          <td>-23 dbm</td>
          <td>5</td>
          <td>192.168.1.2</td>
          <td><a href="#" class="main-button">View</a></td>
        </tr>
      </table>
    </div>
  </div>
</div>

<script src="{% static 'js/chart.umd.js' %}"></script>

<script>
  const cpuLoad = document.getElementById("cpuLoad");
  const memoryUsage = document.getElementById("memoryUsage");
  const pppClient = document.getElementById("pppClient");

  new Chart(cpuLoad, {
    type: "doughnut",
    data: {
      datasets: [
        {
          rotation: 180,
          cutout: 60,
          data: [80, 20],
          backgroundColor: ["#211C84", "#E8E2F5"],
          hoverOffset: 4,
        },
      ],
    },
  });

  new Chart(memoryUsage, {
    type: "doughnut",
    data: {
      datasets: [
        {
          rotation: 180,
          cutout: 60,
          data: [20, 80],
          backgroundColor: ["#211C84", "#E8E2F5"],
          hoverOffset: 4,
        },
      ],
    },
  });

  new Chart(pppClient, {
    type: "doughnut",
    data: {
      datasets: [
        {
          rotation: 180,
          cutout: 60,
          data: [90, 10],
          backgroundColor: ["#211C84", "#E8E2F5"],
          hoverOffset: 4,
        },
      ],
    },
  });
</script>

{% endblock %}
